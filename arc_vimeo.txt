# arc_vimeo v1.0
# Embed Vimeo videos with customised player
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6OToiYXJjX3ZpbWVvIjtzOjc6InZlcnNpb24iO3M6MzoiMS4w
IjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhvcl91cmkiO3M6
MjM6Imh0dHA6Ly9hbmR5LWNhcnRlci5jb20vIjtzOjExOiJkZXNjcmlwdGlvbiI7czo0MToi
RW1iZWQgVmltZW8gdmlkZW9zIHdpdGggY3VzdG9taXNlZCBwbGF5ZXIiO3M6NDoidHlwZSI7
aTowO3M6NDoiaGVscCI7czo2ODE1OiIJPGgxPmFyY192aW1lbzwvaDE+CgoJPHA+RWFzaWx5
IGVtYmVkIFZpbWVvIHZpZGVvcyBpbiBhcnRpY2xlcyBhbmQgY3VzdG9taXNlIHRoZSBhcHBl
YXJhbmNlIG9mIHRoZSBwbGF5ZXIuPC9wPgoKCTxoMj5UYWJsZSBvZiBjb250ZW50czwvaDI+
CgoJPG9sPgoJCTxsaT48YSBocmVmPSIjaGVscC1zZWN0aW9uMDEiPlBsdWdpbiByZXF1aXJl
bWVudHM8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAyIj5JbnN0YWxs
YXRpb248L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAzIj5UYWdzPC9h
PjwvbGk+CgkJPGxpPjxhIGhyZWY9IiNoZWxwLXNlY3Rpb24wNCI+QXV0aG9yPC9hPjwvbGk+
CgkJPGxpPjxhIGhyZWY9IiNoZWxwLXNlY3Rpb24wNSI+TGljZW5zZTwvYT48L2xpPgoJPC9v
bD4KCgk8aDIgaWQ9ImhlbHAtc2VjdGlvbjAxIj5QbHVnaW4gcmVxdWlyZW1lbnRzPC9oMj4K
Cgk8cD5hcmNfdmltZW8mIzgyMTc7cyBtaW5pbXVtIHJlcXVpcmVtZW50czo8L3A+CgoJPHVs
PgoJCTxsaT5UZXh0cGF0dGVybiA0LjUrPC9saT4KCTwvdWw+CgoJPGgyIGlkPSJoZWxwLXNl
Y3Rpb24wMiI+SW5zdGFsbGF0aW9uPC9oMj4KCgk8cD5UbyBpbnN0YWxsIGdvIHRvIHRoZSAm
IzgyMTY7cGx1Z2lucyYjODIxNzsgdGFiIHVuZGVyICYjODIxNjthZG1pbiYjODIxNzsgYW5k
IHBhc3RlIHRoZSBwbHVnaW4gY29kZSBpbnRvIHRoZSAmIzgyMTY7SW5zdGFsbCBwbHVnaW4m
IzgyMTc7IGJveCwgJiM4MjE2O3VwbG9hZCYjODIxNzsgYW5kIHRoZW4gJiM4MjE2O2luc3Rh
bGwmIzgyMTc7LiBQbGVhc2Ugbm90ZSB0aGF0IHlvdSB3aWxsIG5lZWQgdG8gc2V0LXVwIGEg
Y3VzdG9tIGZpZWxkIHRvIHVzZSBmb3IgYXNzb2NpYXRpbmcgdmlkZW9zIHdpdGggYXJ0aWNs
ZXMsIHVubGVzcyB5b3UgY2hvb3NlIHRvIGRpcmVjdGx5IGVtYmVkIHRoZSBuZXcgdGFnIGlu
IHRoZSBhcnRpY2xlIHRleHQuPC9wPgoKCTxoMiBpZD0iaGVscC1zZWN0aW9uMDMiPlRhZ3M8
L2gyPgoKCTxoMz5hcmNfdmltZW88L2gzPgoKCTxwPkVtYmVkcyBhIFZpbWVvIHZpZGVvIGlu
IHRoZSBwYWdlIHVzaW5nIGFuIGlmcmFtZS48L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJj
X3ZpbWVvIC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDQ+VmlkZW8gYXR0cmlidXRlczwvaDQ+
CgoJPHVsPgoJCTxsaT48ZW0+dmlkZW88L2VtPiAmIzgyMTE7IFZpbWVvIHVybCBvciB2aWRl
byBJRCBmb3IgdGhlIHZpZGVvIHlvdSB3YW50IHRvIGVtYmVkPC9saT4KCQk8bGk+PGVtPmN1
c3RvbTwvZW0+ICYjODIxMTsgTmFtZSBvZiB0aGUgY3VzdG9tIGZpZWxkIGNvbnRhaW5pbmcg
dmlkZW8gSURzL3VybHMgYXNzb2NpYXRlZCB3aXRoIGFydGljbGU8L2xpPgoJPC91bD4KCgk8
aDQ+QmFzaWMgYXR0cmlidXRlczwvaDQ+CgoJPHVsPgoJCTxsaT48ZW0+bGFiZWw8L2VtPiAm
IzgyMTE7IExhYmVsIGZvciB0aGUgdmlkZW88L2xpPgoJCTxsaT48ZW0+bGFiZWx0YWc8L2Vt
PiAmIzgyMTE7IEluZGVwZW5kZW50IHdyYXB0YWcgZm9yIGxhYmVsPC9saT4KCQk8bGk+PGVt
PndyYXB0YWc8L2VtPiAmIzgyMTE7IDxzcGFuIGNsYXNzPSJjYXBzIj5IVE1MPC9zcGFuPiB0
YWcgdG8gYmUgdXNlZCBhcyB0aGUgd3JhcHRhZywgd2l0aG91dCBicmFja2V0czwvbGk+CgkJ
PGxpPjxlbT5jbGFzczwvZW0+ICYjODIxMTsgPHNwYW4gY2xhc3M9ImNhcHMiPkNTUzwvc3Bh
bj4gY2xhc3MgYXR0cmlidXRlIGZvciB3cmFwdGFnPC9saT4KCTwvdWw+CgoJPGgzPkN1c3Rv
bWlzaW5nIHRoZSBWaW1lbyBwbGF5ZXI8L2gzPgoKCTxwPllvdSBjYW4gY3VzdG9taXNlIHRo
ZSBhcHBlYXJhbmNlIG9mIHRoZSBWaW1lbyBwbGF5ZXIgdXNpbmcgdGhpcyBwbHVnaW4gdG8g
ZGVmaW5lIHRoaW5ncyBsaWtlIGNvbG91cnMgYW5kIHNpemUuPC9wPgoKCTx1bD4KCQk8bGk+
PGVtPndpZHRoPC9lbT4gJiM4MjExOyBXaWR0aCBvZiB2aWRlbzwvbGk+CgkJPGxpPjxlbT5o
ZWlnaHQ8L2VtPiAmIzgyMTE7IEhlaWdodCBvZiB2aWRlbzwvbGk+CgkJPGxpPjxlbT5yYXRp
bzwvZW0+ICYjODIxMTsgQXNwZWN0IHJhdGlvIChkZWZhdWx0cyA0OjMpPC9saT4KCQk8bGk+
PGVtPmNvbG9yPC9lbT4gJiM4MjExOyBBIGhleCBjb2xvdXIgY29kZSBmb3IgdGhlIHBsYXll
ciBVSSBlbGVtZW50czwvbGk+CgkJPGxpPjxlbT5wb3J0cmFpdDwvZW0+ICYjODIxMTsgJiM4
MjE2OzAmIzgyMTc7IHRvIGRpc2FibGUgdGhlIHVzZXImIzgyMTc7cyBwb3J0cmFpdDwvbGk+
CgkJPGxpPjxlbT50aXRsZTwvZW0+ICYjODIxMTsgJiM4MjE2OzAmIzgyMTc7IHRvIGRpc2Fi
bGUgdGhlIHZpZGVvJiM4MjE3O3MgdGl0bGU8L2xpPgoJCTxsaT48ZW0+YnlsaW5lPC9lbT4g
JiM4MjExOyAmIzgyMTY7MCYjODIxNzsgdG8gZGlzYWJsZSB0aGUgdmlkZW8mIzgyMTc7cyBi
eWxpbmU8L2xpPgoJCTxsaT48ZW0+YmFkZ2U8L2VtPiAmIzgyMTE7ICYjODIxNjswJiM4MjE3
OyB0byBkaXNhYmxlIHRoZSB2aWRlbyYjODIxNztzIGJhZGdlPC9saT4KCQk8bGk+PGVtPmxv
b3A8L2VtPiAmIzgyMTE7ICYjODIxNjsxJiM4MjE3OyB0byBsb29wIHRoZSB2aWRlbyBvbiBw
bGF5PC9saT4KCQk8bGk+PGVtPmF1dG9wbGF5PC9lbT4gJiM4MjExOyAmIzgyMTY7MSYjODIx
NzsgdG8gYXV0b3BsYXkgdGhlIHZpZGVvLCAmIzgyMTY7MCYjODIxNzsgdG8gdHVybiBvZmYg
YXV0b3BsYXkgKGRlZmF1bHQpPC9saT4KCQk8bGk+PGVtPmF1dG9wYXVzZTwvZW0+ICYjODIx
MTsgJiM4MjE2OzEmIzgyMTc7IHRvIGF1dG9wYXVzZSB0aGUgdmlkZW8gd2hlbiBhbm90aGVy
IGlzIHBsYXllZCBvbiB0aGUgc2FtZSBwYWdlPC9saT4KCTwvdWw+CgoJPGgyPmFyY19pZl92
aW1lbzwvaDI+CgoJPHA+SW4gYWRkaXRpb24gdG8gYXJjX3ZpbWVvIHRoaXMgcGx1Z2luIGFs
c28gY29tZXMgd2l0aCBhcmNfaWZfdmltZW8sIGEgY29uZGl0aW9uYWwgdGFnIGZvciBjaGVj
a2luZyBpZiB0aGUgdmlkZW8gPHNwYW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj4gaXMgYSBW
aW1lbyBvbmUuPC9wPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19pZl92aW1lbyB2aWRlbz0m
IzM5O1tVUkxdJiMzOTsmZ3Q7Jmx0Oy90eHA6YXJjX2lmX3ZpbWVvJmd0Owo8L2NvZGU+PC9w
cmU+CgoJPGg0PkF0dHJpYnV0ZXM8L2g0PgoKCTxwPlVzZSBvbmUgb3IgdGhlIG90aGVyIG9m
IHRoZSBmb2xsb3dpbmc6LTwvcD4KCgk8dWw+CgkJPGxpPjxlbT5jdXN0b208L2VtPiAmIzgy
MTE7IE5hbWUgb2YgdGhlIGN1c3RvbSBmaWVsZCBjb250YWluaW5nIHZpZGVvIElEcy91cmxz
IGFzc29jaWF0ZWQgd2l0aCBhcnRpY2xlPC9saT4KCQk8bGk+PGVtPnZpZGVvPC9lbT4gJiM4
MjExOyBBIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+IHRvIGNoZWNrIGlmIGl0IGlz
IGEgdmFsaWQgVmltZW8gPHNwYW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj48L2xpPgoJPC91
bD4KCgk8aDIgaWQ9ImhlbHAtc2VjdGlvbjA0Ij5FeGFtcGxlczwvaDI+CgoJPGgzPkV4YW1w
bGUgMTogVXNlIGN1c3RvbSBmaWVsZCB0byBhc3NvY2lhdGUgdmlkZW8gd2l0aCBhbiBhcnRp
Y2xlPC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfdmltZW8gY3VzdG9tPSZxdW90O1Zp
bWVvJnF1b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDM+RXhhbXBsZSAyOiBTZXQgdGhl
IHNpemUgb2YgdGhlIHBsYXllcjwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3ZpbWVv
IHZpZGVvPSYjMzk7aHR0cDovL3ZpbWVvLmNvbS84NjI5NTQ1MiYjMzk7IHdpZHRoPSYjMzk7
NTAwJiMzOTsgcmF0aW89JiMzOTsxNjo5JiMzOTsgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxo
Mz5FeGFtcGxlIDM6IFVzaW5nIHRoZSBjb25kaXRpb25hbCB0YWc8L2gzPgoKPHByZT48Y29k
ZT4mbHQ7dHhwOmFyY19pZl92aW1lbyB2aWRlbz0mIzM5O2h0dHA6Ly92aW1lby5jb20vODYy
OTU0NTImIzM5OyZndDsKCVllcwombHQ7dHhwOmVsc2UgLyZndDsKCU5vCiZsdDsvdHhwOmFy
Y19pZl92aW1lbyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMiBpZD0iaGVscC1zZWN0aW9uMDQi
PkF1dGhvcjwvaDI+CgoJPHA+PGEgaHJlZj0iaHR0cDovL2FuZHktY2FydGVyLmNvbSI+QW5k
eSBDYXJ0ZXI8L2E+LiBGb3Igb3RoZXIgVGV4dHBhdHRlcm4gcGx1Z2lucyBieSBtZSB2aXNp
dCBteSA8YSBocmVmPSJodHRwOi8vYW5keS1jYXJ0ZXIuY29tL3R4cCI+UGx1Z2lucyBwYWdl
PC9hPi48L3A+CgoJPGgyIGlkPSJoZWxwLXNlY3Rpb24wNSI+TGljZW5zZTwvaDI+CgoJPHA+
VGhlIDxzcGFuIGNsYXNzPSJjYXBzIj5NSVQ8L3NwYW4+IExpY2Vuc2UgKDxzcGFuIGNsYXNz
PSJjYXBzIj5NSVQ8L3NwYW4+KTwvcD4KCgk8cD5Db3B5cmlnaHQgJiMxNjk7IDIwMTQgQW5k
eSBDYXJ0ZXI8L3A+CgoJPHA+UGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBv
ZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3
YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAmIzgyMjA7U29m
dHdhcmUmIzgyMjE7KSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmlj
dGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwg
Y29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwg
YW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJz
b25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVj
dCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6PC9wPgoKCTxwPlRoZSBhYm92ZSBjb3B5
cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1
ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3
YXJlLjwvcD4KCgk8cD48c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBjbGFz
cz0iY2FwcyI+U09GVFdBUkU8L3NwYW4+IElTIDxzcGFuIGNsYXNzPSJjYXBzIj5QUk9WSURF
RDwvc3Bhbj4gJiM4MjIwO0FTIElTJiM4MjIxOywgPHNwYW4gY2xhc3M9ImNhcHMiPldJVEhP
VVQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5XQVJSQU5UWTwvc3Bhbj4gT0YgPHNwYW4g
Y2xhc3M9ImNhcHMiPkFOWTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPktJTkQ8L3NwYW4+
LCA8c3BhbiBjbGFzcz0iY2FwcyI+RVhQUkVTUzwvc3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNh
cHMiPklNUExJRUQ8L3NwYW4+LCA8c3BhbiBjbGFzcz0iY2FwcyI+SU5DTFVESU5HPC9zcGFu
PiA8c3BhbiBjbGFzcz0iY2FwcyI+QlVUPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+Tk9U
PC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+TElNSVRFRDwvc3Bhbj4gVE8gPHNwYW4gY2xh
c3M9ImNhcHMiPlRIRTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPldBUlJBTlRJRVM8L3Nw
YW4+IE9GIDxzcGFuIGNsYXNzPSJjYXBzIj5NRVJDSEFOVEFCSUxJVFk8L3NwYW4+LCA8c3Bh
biBjbGFzcz0iY2FwcyI+RklUTkVTUzwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkZPUjwv
c3Bhbj4gQSA8c3BhbiBjbGFzcz0iY2FwcyI+UEFSVElDVUxBUjwvc3Bhbj4gPHNwYW4gY2xh
c3M9ImNhcHMiPlBVUlBPU0U8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5BTkQ8L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5OT05JTkZSSU5HRU1FTlQ8L3NwYW4+LiBJTiBOTyA8c3Bh
biBjbGFzcz0iY2FwcyI+RVZFTlQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5TSEFMTDwv
c3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPlRIRTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMi
PkFVVEhPUlM8L3NwYW4+IE9SIDxzcGFuIGNsYXNzPSJjYXBzIj5DT1BZUklHSFQ8L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5IT0xERVJTPC9zcGFuPiBCRSA8c3BhbiBjbGFzcz0iY2Fw
cyI+TElBQkxFPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+Rk9SPC9zcGFuPiA8c3BhbiBj
bGFzcz0iY2FwcyI+QU5ZPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+Q0xBSU08L3NwYW4+
LCA8c3BhbiBjbGFzcz0iY2FwcyI+REFNQUdFUzwvc3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNh
cHMiPk9USEVSPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+TElBQklMSVRZPC9zcGFuPiwg
PHNwYW4gY2xhc3M9ImNhcHMiPldIRVRIRVI8L3NwYW4+IElOIEFOIDxzcGFuIGNsYXNzPSJj
YXBzIj5BQ1RJT048L3NwYW4+IE9GIDxzcGFuIGNsYXNzPSJjYXBzIj5DT05UUkFDVDwvc3Bh
bj4sIDxzcGFuIGNsYXNzPSJjYXBzIj5UT1JUPC9zcGFuPiBPUiA8c3BhbiBjbGFzcz0iY2Fw
cyI+T1RIRVJXSVNFPC9zcGFuPiwgPHNwYW4gY2xhc3M9ImNhcHMiPkFSSVNJTkc8L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5GUk9NPC9zcGFuPiwgPHNwYW4gY2xhc3M9ImNhcHMiPk9V
VDwvc3Bhbj4gT0YgT1IgSU4gPHNwYW4gY2xhc3M9ImNhcHMiPkNPTk5FQ1RJT048L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5XSVRIPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+VEhF
PC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+U09GVFdBUkU8L3NwYW4+IE9SIDxzcGFuIGNs
YXNzPSJjYXBzIj5USEU8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5VU0U8L3NwYW4+IE9S
IDxzcGFuIGNsYXNzPSJjYXBzIj5PVEhFUjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkRF
QUxJTkdTPC9zcGFuPiBJTiA8c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBj
bGFzcz0iY2FwcyI+U09GVFdBUkU8L3NwYW4+LjwvcD4KCiI7czo0OiJjb2RlIjtzOjMyNzQ6
IgpmdW5jdGlvbiBhcmNfdmltZW8oJGF0dHMsICR0aGluZykKewoJZ2xvYmFsICR0aGlzYXJ0
aWNsZTsKCgkkZGVmYXVsdHMgPSBhcnJheSgKCQkndmlkZW8nICAgICA9PiAnJywKCQknY3Vz
dG9tJyAgICA9PiAnVmltZW8gSUQnLAoJCSd3aWR0aCcgICAgID0+ICcwJywKCQknaGVpZ2h0
JyAgICA9PiAnMCcsCgkJJ3JhdGlvJwkJPT4gJzQ6MycsCgkJJ2NvbG9yJwkJPT4gbnVsbCwK
CQkncG9ydHJhaXQnCT0+IG51bGwsCgkJJ3RpdGxlJwkJPT4gbnVsbCwKCQknYnlsaW5lJwk9
PiBudWxsLAoJCSdiYWRnZScJCT0+IG51bGwsCgkJJ2xvb3AnCQk9PiBudWxsLAoJCSdhdXRv
cGF1c2UnCT0+IG51bGwsCgkJJ2F1dG9wbGF5Jwk9PiBudWxsLAoJCSdsYWJlbCcgICAgID0+
ICcnLAoJCSdsYWJlbHRhZycgID0+ICcnLAoJCSd3cmFwdGFnJyAgID0+ICcnLAoJCSdjbGFz
cycgICAgID0+IF9fRlVOQ1RJT05fXwoJKTsKCglleHRyYWN0KGxBdHRzKCRkZWZhdWx0cywg
JGF0dHMpKTsKCiAgICAkY3VzdG9tID0gc3RydG9sb3dlcigkY3VzdG9tKTsKICAgIGlmICgk
dmlkZW8gJiYgaXNzZXQoJHRoaXNhcnRpY2xlWyRjdXN0b21dKSkgewogICAgICAgICR2aWRl
byA9ICR0aGlzYXJ0aWNsZVskY3VzdG9tXTsKICAgIH0KCiAgICAkbWF0Y2ggPSBfYXJjX3Zp
bWVvKCR2aWRlbyk7CiAgICBpZiAoJG1hdGNoKSB7CiAgICAJJHZpZGVvID0gJG1hdGNoOwog
ICAgfSBlbHNlaWYgKGVtcHR5KCR2aWRlbykpIHsKICAgIAlyZXR1cm4gJyc7CiAgICB9Cgog
ICAgLy8gSWYgdGhlIHdpZHRoIGFuZC9vciBoZWlnaHQgaGFzIG5vdCBiZWVuIHNldCB3ZSB3
YW50IHRvIGNhbGN1bGF0ZSBuZXcKICAgIC8vIG9uZXMgdXNpbmcgdGhlIGFzcGVjdCByYXRp
by4KICAgIGlmICghJHdpZHRoIHx8ICEkaGVpZ2h0KSB7CgogICAgCS8vIFdvcmsgb3V0IHRo
ZSBhc3BlY3QgcmF0aW8uCiAgICAJcHJlZ19tYXRjaCgiLyhcZCspOihcZCspLyIsICRyYXRp
bywgJG1hdGNoZXMpOwogICAgCWlmICgkbWF0Y2hlc1swXSAmJiAkbWF0Y2hlc1sxXSE9MCAm
JiAkbWF0Y2hlc1syXSE9MCkgewoJCQkkYXNwZWN0ID0gJG1hdGNoZXNbMV0vJG1hdGNoZXNb
Ml07CgkJfSBlbHNlIHsKCQkJJGFzcGVjdCA9IDEuMzMzOwoJCX0KCgkJLy8gQ2FsY3VhdGUg
dGhlIG5ldyB3aWR0aC9oZWlnaHQuCgkJaWYgKCR3aWR0aCkgewoJCQkkaGVpZ2h0ID0gJHdp
ZHRoLyRhc3BlY3Q7CgkJfSBlbHNlaWYgKCRoZWlnaHQpIHsKCQkJJHdpZHRoID0gJGhlaWdo
dCokYXNwZWN0OwoJCX0gZWxzZSB7CgkJCSR3aWR0aCA9IDQyNTsKCQkJJGhlaWdodCA9IDM0
NDsKCQl9CgogICAgfQoKCSRzcmMgPSAnLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycgLiAk
dmlkZW87CgoJJHFTdHJpbmcgPSBhcnJheSgpOwoKCS8vIENoZWNrIGlmIHRoZSBwbGF5ZXIn
cyBVSSBjb2xvdXIgaXMgYmVpbmcgY3VzdG9taXNlZC4KCWlmICgkY29sb3IgJiYgcHJlZ19t
YXRjaCgnfF4jPyhbYS16MC05XXs2fSkkfGknLCAkY29sb3IsICRtYXRjaCkpIHsKCQkkcVN0
cmluZ1tdID0gJ2NvbG9yPScgLiAkbWF0Y2hbMV07Cgl9CgoJLy8gQ2hlY2sgd2hldGhlciB0
byBzaG93IG9yIGhpZGUgdGhlIHVzZXIncyBwb3J0cmFpdCBmcm9tIHRoZSB2aWRlby4KCWlm
ICgkcG9ydHJhaXQhPT1udWxsKSB7CgkJJHFTdHJpbmdbXSA9ICdwb3J0cmFpdD0nIC4gKCRw
b3J0cmFpdCA/ICcxJyA6ICcwJyk7Cgl9CgoJLy8gQ2hlY2sgd2hldGhlciB0byBzaG93IG9y
IGhpZGUgdGhlIHZpZGVvIHRpdGxlLgoJaWYgKCR0aXRsZSE9PW51bGwpIHsKCQkkcVN0cmlu
Z1tdID0gJ3RpdGxlPScgLiAoJHRpdGxlID8gJzEnIDogJzAnKTsKCX0KCgkvLyBDaGVjayB3
aGV0aGVyIHRvIHNob3cgb3IgaGlkZSB0aGUgdXNlcidzIGJ5bGluZS4KCWlmICgkYnlsaW5l
IT09bnVsbCkgewoJCSRxU3RyaW5nW10gPSAnYnlsaW5lPScgLiAoJGJ5bGluZSA/ICcxJyA6
ICcwJyk7Cgl9CgoJLy8gQ2hlY2sgd2hldGhlciB0byBzaG93IG9yIGhpZGUgdGhlIGJhZGdl
LgoJaWYgKCRiYWRnZSE9PW51bGwpIHsKCQkkcVN0cmluZ1tdID0gJ2JhZGdlPScgLiAoJGJh
ZGdlID8gJzEnIDogJzAnKTsKCX0KCgkvLyBDaGVjayB3aGV0aGVyIHRvIHBsYXkgdGhlIHZp
ZGVvIG9uIGxvb3AuCglpZiAoJGxvb3AhPT1udWxsKSB7CgkJJHFTdHJpbmdbXSA9ICdsb29w
PScgLiAoJGxvb3AgPyAnMScgOiAnMCcpOwoJfQoKCS8vIENoZWNrIHdoZXRoZXIgdG8gZW5h
YmxlL2Rpc2FibGUgYXV0b3BhdXNlLgoJaWYgKCRhdXRvcGF1c2UhPT1udWxsKSB7CgkJJHFT
dHJpbmdbXSA9ICdhdXRvcGF1c2U9JyAuICgkYXV0b3BhdXNlID8gJzEnIDogJzAnKTsKCX0K
CgkvLyBDaGVjayB3aGV0aGVyIHRvIGVuYWJsZS9kaXNhYmxlIGF1dG9wbGF5LgoJaWYgKCRh
dXRvcGxheSE9PW51bGwpIHsKCQkkcVN0cmluZ1tdID0gJ2F1dG9wbGF5PScgLiAoJGF1dG9w
bGF5ID8gJzEnIDogJzAnKTsKCX0KCgkvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGFwcGVuZCBh
IHF1ZXJ5IHN0cmluZyB0byB0aGUgdmlkZW8gc3JjLgoJaWYgKCFlbXB0eSgkcVN0cmluZykp
IHsKCQkkc3JjIC49ICc/JyAuIGltcGxvZGUoJyZhbXA7JywgJHFTdHJpbmcpOwoJfQoKCSRv
dXQgPSAiPGlmcmFtZSBzcmM9JyRzcmMnIHdpZHRoPSckd2lkdGgnIGhlaWdodD0nJGhlaWdo
dCcgZnJhbWVib3JkZXI9JzAnIHdlYmtpdGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxz
Y3JlZW4gYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPiI7CgoJcmV0dXJuIGRvTGFiZWwoJGxh
YmVsLCAkbGFiZWx0YWcpIC4gKCgkd3JhcHRhZykgPyBkb1RhZygkb3V0LCAkd3JhcHRhZywg
JGNsYXNzKSA6ICRvdXQpOwoKfQoKZnVuY3Rpb24gYXJjX2lmX3ZpbWVvKCRhdHRzLCAkdGhp
bmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJZXh0cmFjdChsQXR0cyhhcnJheSgKCQkn
Y3VzdG9tJyA9PiBudWxsLAoJCSd2aWRlbycgPT4gbnVsbAoJKSwgJGF0dHMpKTsKCgkkcmVz
dWx0ID0gJHZpZGVvID8gX2FyY192aW1lbygkdmlkZW8pIDogX2FyY192aW1lbygkdGhpc2Fy
dGljbGVbc3RydG9sb3dlcigkY3VzdG9tKV0pOwoKCXJldHVybiBwYXJzZShFdmFsRWxzZSgk
dGhpbmcsICRyZXN1bHQpKTsKfQoKZnVuY3Rpb24gX2FyY192aW1lbygkdmlkZW8pCnsKCWlm
IChwcmVnX21hdGNoKCcjXmh0dHA6Ly8oKHBsYXllcnx3d3cpXC4pP3ZpbWVvXC5jb20oL3Zp
ZGVvKT8vKFxkKykjaScsICR2aWRlbywgJG1hdGNoZXMpKSB7CiAgICAJcmV0dXJuICRtYXRj
aGVzWzRdOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKfQoiO3M6MzoibWQ1IjtzOjMyOiJl
ZmQ4MGU4MzQ2MzkyYjcxZGNjYTFjZmYzZWFkNGM0ZSI7fQ==
